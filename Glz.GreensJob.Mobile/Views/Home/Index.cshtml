@{
    ViewBag.Title = "格林兼职";
}

@section css
{
    @Styles.Render("~/Content/css/home")
    <style>
        html body {
            background-color: white;
        }

        .mui-bar-tab .mui-tab-item .mui-icon ~ .mui-tab-label {
            display: inline;
        }

        .mui-bar {
            background-color: #60C063;
        }

            .mui-bar h1 {
                color: white;
            }

            .mui-bar a span {
                color: #fff;
            }

        * {
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
            -webkit-text-size-adjust: none;
        }

        .outer {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-direction: column;
            -webkit-box-orient: vertical;
            box-orient: vertical;
            -webkit-flex-direction: column;
            flex-direction: column;
        }

        .header {
            position: relative;
            height: 44px;
            line-height: 44px;
            border-bottom: 1px solid #ccc;
            background-color: #eee;
        }

            .header h1 {
                text-align: center;
                font-size: 2rem;
                font-weight: normal;
            }

            .header .btn {
                position: absolute;
                right: 0;
                top: 0;
                width: 4em;
                height: 100%;
                text-align: center;
                color: #06c;
                font-size: 1.4rem;
                background-color: #ccc;
            }

                .header .btn:active {
                    background-color: #aaa;
                    color: #fff;
                }

        .inner {
            margin-top: 44px;
            margin-bottom: 48px;
            -webkit-box-flex: 1;
            -webkit-flex: 1;
            -ms-flex: 1;
            flex: 1;
            background-color: #fff;
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
        }

            .inner .item {
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -ms-flex-align: center;
                -webkit-box-align: center;
                box-align: center;
                -webkit-align-items: center;
                align-items: center;
                padding: 3.125%;
                border-bottom: 1px solid #ddd;
                color: #333;
            }

                .inner .item img {
                    display: block;
                    width: 40px;
                    height: 40px;
                    border: 1px solid #ddd;
                }

                .inner .item h3 {
                    display: block;
                    -webkit-box-flex: 1;
                    -webkit-flex: 1;
                    -ms-flex: 1;
                    flex: 1;
                    width: 100%;
                    max-height: 40px;
                    overflow: hidden;
                    line-height: 20px;
                    margin: 0 10px;
                    font-size: 1.2rem;
                }

                .inner .item .date {
                    display: block;
                    height: 20px;
                    line-height: 20px;
                    color: #999;
                }

        .opacity {
            -webkit-animation: opacity 0.5s linear;
            animation: opacity 0.5s linear;
        }

        @@-webkit-keyframes opacity {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        @@keyframes opacity {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }
        /* dropload */

        .dropload-up,
        .dropload-down {
            position: relative;
            height: 0;
            overflow: hidden;
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            background-color: white;
        }

        .dropload-refresh,
        .dropload-update,
        .dropload-load {
            position: absolute;
            left: 50%;
            bottom: 0;
            width: 100%;
            height: 50px;
            line-height: 50px;
            text-align: center;
            -webkit-transform: translate(-50%, 0);
            transform: translate(-50%, 0);
            background-color: white;
        }

            .dropload-load .loading {
                display: inline-block;
                height: 15px;
                width: 15px;
                border-radius: 100%;
                margin: 6px;
                border: 2px solid #666;
                border-bottom-color: transparent;
                vertical-align: middle;
                -webkit-animation: rotate 0.75s 0 linear infinite;
                animation: rotate 0.75s 0 linear infinite;
                /*background-color: white;*/
            }

        @@-webkit-keyframes rotate {
            0% {
                -webkit-transform: rotate(0deg);
            }

            50% {
                -webkit-transform: rotate(180deg);
            }

            100% {
                -webkit-transform: rotate(360deg);
            }
        }

        @@keyframes rotate {
            0% {
                transform: rotate(0deg);
            }

            50% {
                transform: rotate(180deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
        /*---------------------------------------------------------
         */

        .typeDiv {
            width: 100%;
            display: inline;
        }

        .typeUl a {
            font-size: 14px;
            text-align: center;
            vertical-align: middle;
        }

        .splitStyle {
            height: 1px;
            border: none;
            border-top: 1px solid gainsboro;
        }

        .heightStyle {
            height: 32px;
            width: 2px;
            border: none;
            border-top: 1px solid gainsboro;
        }
        /*---------------------------------------------------------
         */

        .tableIcon {
            background: url(/Content/img/circleIcon.png) top center no-repeat;
            width: 100px;
            height: 100px;
            line-heiht: 100px;
            text-align: center;
            margin-top: 10px;
        }

            .tableIcon span {
                font-size: 13px;
                color: white;
            }
        /*------------------------------------------------------*/
        /*跨webview需要手动指定位置*/

        .mui-plus header.mui-bar {
            display: none !important;
        }

        .mui-plus .mui-bar-nav ~ .mui-content {
            padding: 0 !important;
        }

        .mui-plus .plus {
            display: inline;
        }

        .plus {
            display: none;
        }

        #topPopover {
            position: fixed;
            top: 16px;
            right: 6px;
        }

            #topPopover .mui-popover-arrow {
                left: auto;
                right: 6px;
            }
        /*p {
            text-indent: 22px;
        }*/

        span.mui-icon {
            font-size: 14px;
            color: #007aff;
            margin-left: -15px;
            padding-right: 10px;
        }

        .mui-popover {
            width: 25%;
            height: 300px;
        }

        .item {
            width: 100%;
        }
        /*------------------------------------------------------------
         *
         */

        .addressUl li {
            margin-top: 8px;
        }
    </style>
}
<div class="outer">
    <header class="mui-bar mui-bar-nav">
        <a class="mui-pull-left" style="margin-top: 6px;" id="cityButton" href="#cityPopover">
            <span>
                <img src="~/Content/img/Map-pointer.png" />
                <span class="headerAddress" style="color: white;">
                    {{addressTxt.title}}
                </span>
            </span>
        </a>
        <a class="mui-pull-right" style="margin-top: 10px;" href="job_search.html">
            <img src="~/Content/img/Magnifying-glass.png" />
        </a>
        <h1 class="mui-title">首页</h1>
    </header>
    <div class="inner">
        <div class="mui-content">
            <div id="slider" class="mui-slider">
                <div class="mui-slider-group mui-slider-loop">
                    <!-- 额外增加的一个节点(循环轮播：第一个节点是最后一张轮播) -->
                    <div class="mui-slider-item mui-slider-item-duplicate">
                        <a href="#">
                            <img src="~/Content/img/home_banner0.png">
                        </a>
                    </div>
                    <!-- 第一张 -->
                    <div class="mui-slider-item">
                        <a href="#">
                            <img src="~/Content/img/home_banner0.png">
                        </a>
                    </div>
                    <!-- 第二张 -->
                    <div class="mui-slider-item">
                        <a href="#">
                            <img src="~/Content/img/home_banner1.png">
                        </a>
                    </div>
                    <!-- 第三张 -->
                    <div class="mui-slider-item">
                        <a href="#">
                            <img src="~/Content/img/home_banner2.png">
                        </a>
                    </div>
                    <!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
                    <div class="mui-slider-item mui-slider-item-duplicate">
                        <a href="#">
                            <img src="~/Content/img/home_banner2.png">
                        </a>
                    </div>
                </div>
                <div class="mui-slider-indicator">
                    <div class="mui-indicator mui-active"></div>
                    <div class="mui-indicator"></div>
                    <div class="mui-indicator"></div>
                </div>
            </div>
            <div>

            </div>
            <div style="height: 20px;">
                <hr class="splitStyle" />
                <ul style="list-style: none; padding: 8px;" class="typeUl">
                    <li style="width: 25%; float: left; text-align: center;">
                        <a href="#distancePopover">
                            <span>
                                {{distanceTxt.title}}
                                <img src="~/Content/img/icon_rect.png" style="margin-left: 2px;" />
                            </span>
                        </a>
                    </li>
                    <li style="width: 25%; float: left; text-align: center;">
                        <a href="#categoryPopover">
                            <span>
                                {{categoryTxt.title}}
                                <img src="~/Content/img/icon_rect.png" style="margin-left: 2px;" />
                            </span>
                        </a>
                    </li>
                    <li style="width: 25%; float: left; text-align: center;">
                        <a href="#timePopover">
                            <span>
                                {{timeTxt.title}}
                                <img src="~/Content/img/icon_rect.png" style="margin-left: 2px;" />

                            </span>
                        </a>
                    </li>
                    <li style="width: 25%; float: left; text-align: center;">
                        <a href="#settlementPopover">
                            <span>
                                {{settlementTxt.title}}
                                <img src="~/Content/img/icon_rect.png" style="margin-left: 2px;" />
                            </span>
                        </a>
                    </li>
                </ul>
                <hr class="splitStyle" />
            </div>
            <br />
            <div>
                <ul class="mui-table-view jobTable">
                    <li class="mui-table-view-cell mui-media">
                        <div class="mui-table" onclick="alert(11)">
                            <a href="javascript:;">
                                <div class="mui-media-object mui-pull-left tableIcon"><span>测试</span></div>
                                <div class="mui-media-body">
                                    木屋
                                    <p class='mui-ellipsis'>想要这样一间小木屋，夏天挫冰吃瓜，冬天围炉取暖.</p>
                                    <p class='mui-ellipsis'>
                                        <span style="font-style: oblique; color: red;">80/天 </span>
                                        <span style="font-style: initial; float: right;">刚刚</span>
                                    </p>
                                </div>
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div id="distancePopover" class="mui-popover">
        <div class="mui-popover-arrow"></div>
        <div class="mui-scroll-wrapper">
            <div class="mui-scroll">
                <ul class="mui-table-view distanceTable"></ul>
            </div>
        </div>
    </div>
    <div id="categoryPopover" class="mui-popover">
        <div class="mui-popover-arrow"></div>
        <div class="mui-scroll-wrapper">
            <div class="mui-scroll">
                <ul class="mui-table-view categoryTable"></ul>
            </div>
        </div>
    </div>
    <div id="timePopover" class="mui-popover">
        <div class="mui-popover-arrow"></div>
        <div class="mui-scroll-wrapper">
            <div class="mui-scroll">
                <ul class="mui-table-view timeTable"></ul>
            </div>
        </div>
    </div>
    <div id="settlementPopover" class="mui-popover">
        <div class="mui-popover-arrow"></div>
        <div class="mui-scroll-wrapper">
            <div class="mui-scroll">
                <ul class="mui-table-view settlementTable"></ul>
            </div>
        </div>
    </div>
    <div id="cityPopover" class="mui-popover">
        <div class="mui-popover-arrow"></div>
        <div class="mui-scroll-wrapper">
            <ul class="addressUl" style="text-align: center;">
                <li class="addressLi">
                    <div class="checkbox-label">
                        <div>
                            <input type="checkbox" value="1" id="checkboxOneInput" />
                            <label for="checkboxOneInput">武汉</label>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="checkbox-label">
                        <div>
                            <input type="checkbox" value="2" id="checkboxOneInput1" />
                            <label for="checkboxOneInput1">合肥</label>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="checkbox-label">
                        <div>
                            <input type="checkbox" value="3" id="checkboxOneInput2" />
                            <label for="checkboxOneInput2">南昌</label>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="checkbox-label">
                        <div>
                            <input type="checkbox" value="4" id="checkboxOneInput3" />
                            <label for="checkboxOneInput3">广州</label>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="checkbox-label">
                        <div>
                            <input type="checkbox" value="5" id="checkboxOneInput4" />
                            <label for="checkboxOneInput4">长沙</label>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="checkbox-label">
                        <div>
                            <input type="checkbox" value="6" id="checkboxOneInput5" />
                            <label for="checkboxOneInput5">其他</label>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <nav id="nav" class="mui-bar mui-bar-tab mui-baidu-hidden">
        <a class="mui-tab-item" href="#">
            <span class="mui-icon mui-icon-home"></span>
            <span class="mui-tab-label">首页</span>
        </a>
        <a class="mui-tab-item" href="#">
            <span class="mui-icon mui-icon-person"></span>
            <span class="mui-tab-label">个人中心</span>
        </a>
    </nav>
    <input id="openId" type="hidden" value="@ViewBag.OpenId" />
    <input id="oAuthState" type="hidden" value="@ViewBag.oAuthState" />
</div>
@section scripts
{
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/home")
    <script type="text/javascript" charset="utf-8">
        //				$(function() {
        //					$(':input').labelauty();
        //				});
        $("document")
            .ready(function () {
                //var openId = $('#openId').val();
                //if (openId == undefined || openId == '') {
                //    window.location.href = "../OAuth2";
                //} else {
                //    alert(openId);
                //}

                $.ajax({
                    url: "../OAuth2/GetJsSdkUiPackage",
                    type: "post",
                    dataType: "json",
                    data: "",
                    success: function (data) {
                        //              $("#result").val(data);
                        alert(data.AppId);
                        alert(data.Timestamp);
                        alert(data.NonceStr);
                        alert(data.Signature);
                    },
                    error: function (e) {
                        //              $("#result").val("error:" + e.responseText);
                        alert("错误");
                    },
                    fail: function (e) {
                        //              $("#result").val(e);
                        alert("失败");
                    }
                });

                var sessionId = $.cookie('greensjob_mobile_user_cookies');
                alert(sessionId);
                if (sessionId == undefined) {
                    window.location.href = "../OAuth2/Index";
                } else {
                    $.ajax({
                        //					url: "http://172.16.2.40:57802/api/business/v1/sendverificationcode",
                        url: "http://172.16.2.40:57802/api/mobile/v1/getOpenId",
                        type: "post",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        data: "{ 'sessionId': '" + sessionId + "' }",
                        success: function (data) {
                            //              $("#result").val(data);
                            if (data.code == 1) {
                                alert(data.Data);
                            } else {
                                alert(data.message);
                                window.location.href = "../OAuth2/Index";
                            }
                        },
                        error: function (e) {
                            //              $("#result").val("error:" + e.responseText);
                            alert("错误");
                        },
                        fail: function (e) {
                            //              $("#result").val(e);
                            alert("失败");
                        }
                    });
                }

                var kArray = [
                    'checkboxOneInput',
                    'checkboxOneInput1',
                    'checkboxOneInput2',
                    'checkboxOneInput3',
                    'checkboxOneInput4',
                    'checkboxOneInput5'
                ];
                for (var i = 0; i < kArray.length - 1; i++) {
                    var name = kArray[i];
                    $("#" + name)
                        .click(function () {
                            var value = this.value;
                            var isCheck = this.checked;
                            checkboxListener(isCheck, value);
                        })
                }
            })

        function checkboxListener(isCheck, value) {
            alert(value);
            switch (value) {
                case 1:
                    break;
            }
            mui('#cityPopover').popover('hide');
        }

        //-----------------------------------------------------------
        angular.module("oneapp", [])
            .controller("homeController",
                function ($scope) {
                    $scope.addressTxt = {
                        title: '武汉'
                    };
                    $scope.distanceTxt = {
                        title: '距离'
                    };
                    $scope.categoryTxt = {
                        title: '类别'
                    };
                    $scope.timeTxt = {
                        title: '档期'
                    };
                    $scope.settlementTxt = {
                        title: '结算'
                    };
                    console.log($scope.distanceTxt.title);
                });
        //----------------------------------------------------------------
        //			angular.module("oneapp", []).controller("homeController", function($scope) {
        //				$scope.categoryTxt = {
        //					title: '类别'
        //				};
        //				console.log($scope.categoryTxt.title);
        //				$scope.telModel;
        //			});
        //			angular.module("oneapp", []).controller("homeController", function($scope) {
        //				$scope.timeTxt = {
        //					title: '档期'
        //				};
        //				console.log($scope.timeTxt.title);
        //				$scope.telModel;
        //			});
        //			angular.module("oneapp", []).controller("homeController", function($scope) {
        //				$scope.settlementTxt = {
        //					title: '结算'
        //				};
        //				console.log($scope.settlementTxt.title);
        //				$scope.telModel;
        //			});
        //-----------------------------------------------------------
        //				readHomeData();
        var jsonobj;
        mui.getJSON('data/home.json',
            null,
            function (data) {
                jsonobj = eval(data);
                //				console.log(jsonobj.distanceJson[0].name);
                //					var addressTable = document.body.querySelector('.mui-table-view-inverted');
                var distanceTable = document.body.querySelector('.distanceTable');
                var categoryTable = document.body.querySelector('.categoryTable');
                var timeTable = document.body.querySelector('.timeTable');
                var settlementTable = document.body.querySelector('.settlementTable');
                //				var cells = document.body.querySelectorAll('.distanceCell');
                for (var i = 0; i < jsonobj.addressJson.length; i++) {
                    var kIndex = jsonobj.addressJson[i].index;
                    var kName = jsonobj.addr
                    essJson[i].name;
                    var li = document.createElement('li');
                    li.className = 'mui-table-view-cell addressCell';
                    //					li.onclick='distanceOnClick(0)';
                    li.innerHTML = '<a href="javascript:;">' + kName + '</a>';
                    //下拉刷新，新纪录插到最前面；
                    //						addressTable.appendChild(li);
                }
                //-------------------------------------------------------
                for (var i = 0; i < jsonobj.distanceJson.length; i++) {
                    var li = document.createElement('li');
                    li.className = 'mui-table-view-cell mui-media distanceCell';
                    //					li.onclick='distanceOnClick(0)';
                    li.innerHTML = '<div class="item" onclick="distanceOnClick(' +
                        jsonobj.distanceJson[i].index +
                        ')"><a href="#" >' +
                        jsonobj.distanceJson[i].name +
                        '</a></div>';
                    //下拉刷新，新纪录插到最前面；
                    distanceTable.appendChild(li);
                }
                //-------------------------------------------------------
                for (var i = 0; i < jsonobj.categoryJson.length; i++) {
                    var kIndex = jsonobj.categoryJson[i].index;
                    var kName = jsonobj.categoryJson[i].name;
                    var li = document.createElement('li');
                    li.className = 'mui-table-view-cell mui-media distanceCell';
                    //					li.onclick='distanceOnClick(0)';
                    li.innerHTML = '<div class="item" onclick="categoryOnClick(' +
                        kIndex +
                        ')"><a href="#" >' +
                        kName +
                        '</a></div>';
                    //下拉刷新，新纪录插到最前面；
                    categoryTable.appendChild(li);
                }
                //-------------------------------------------------------
                for (var i = 0; i < jsonobj.timeJson.length; i++) {
                    var kIndex = jsonobj.timeJson[i].index;
                    var kName = jsonobj.timeJson[i].name;
                    var li = document.createElement('li');
                    li.className = 'mui-table-view-cell mui-media distanceCell';
                    //					li.onclick='distanceOnClick(0)';
                    li.innerHTML = '<div class="item" onclick="timeOnClick(' +
                        kIndex +
                        ')"><a href="#" >' +
                        kName +
                        '</a></div>';
                    //下拉刷新，新纪录插到最前面；
                    timeTable.appendChild(li);
                }
                //-------------------------------------------------------
                for (var i = 0; i < jsonobj.settlementJson.length; i++) {
                    var kIndex = jsonobj.settlementJson[i].index;
                    var kName = jsonobj.settlementJson[i].name;
                    var li = document.createElement('li');
                    li.className = 'mui-table-view-cell mui-media distanceCell';
                    //					li.onclick='distanceOnClick(0)';
                    li.innerHTML = '<div class="item" onclick="settlementOnClick(' +
                        kIndex +
                        ')"><a href="#" >' +
                        kName +
                        '</a></div>';
                    //下拉刷新，新纪录插到最前面；
                    settlementTable.appendChild(li);
                }
                //-------------------------------------------------------
            });

        function distanceOnClick(index) {
            //					alert(index);
            var name = jsonobj.distanceJson[index].name;
            var appElement = document.querySelector('[ng-controller=homeController]');
            var $scope = angular.element(appElement).scope();
            $scope.distanceTxt = {
                title: name
            };
            $scope.$apply();
            mui('#distancePopover').popover('hide');
        }

        function categoryOnClick(index) {
            var name = jsonobj.categoryJson[index].name;
            var appElement = document.querySelector('[ng-controller=homeController]');
            var $scope = angular.element(appElement).scope();
            $scope.categoryTxt = {
                title: name
            };
            $scope.$apply();
            mui('#categoryPopover').popover('hide');
        }

        function timeOnClick(index) {
            var name = jsonobj.timeJson[index].name;
            var appElement = document.querySelector('[ng-controller=homeController]');
            var $scope = angular.element(appElement).scope();
            $scope.timeTxt = {
                title: name
            };
            $scope.$apply();
            mui('#timePopover').popover('hide');
        }

        function settlementOnClick(index) {
            var name = jsonobj.settlementJson[index].name;
            var appElement = document.querySelector('[ng-controller=homeController]');
            var $scope = angular.element(appElement).scope();
            $scope.settlementTxt = {
                title: name
            };
            $scope.$apply();
            mui('#settlementPopover').popover('hide');
        }
    </script>
    <script type="text/javascript" charset="utf-8">
        function itemOnClick(index) {
            alert(index);
            //				window.location.href = "job_detail.html";
            //				url: "job_detail.html",
            //					id: "jobCell",
            //					show: {
            //						aniShow: 'slide-in-right',
            //						duration: 300
            //					}
        }

        function apply(kScope, kName) {}
        //------------------------------------------------------------------------------
    </script>
    <script type="text/javascript" charset="utf-8">
        mui.init({
            swipeBack: true //启用右滑关闭功能
            //				pullRefresh: {
            //					container: '#pullrefresh',
            //					down: {
            //						callback: pulldownRefresh
            //					},
            //					up: {
            //						contentrefresh: '正在加载...',
            //						callback: pullupRefresh
            //					}
            //				}
        });
        var slider = mui("#slider");
        slider.slider({
            interval: 3000
        });
        //				// 按钮操作
        $('.header .btn')
            .on('click',
                function () {
                    var $this = $(this);
                    if (!!$this.hasClass('lock')) {
                        $this.attr('class', 'btn unlock');
                        $this.text('解锁');
                        // 锁定
                        dropload.lock();
                    } else {
                        $this.attr('class', 'btn lock');
                        $this.text('锁定');
                        // 解锁
                        dropload.unlock();
                    }
                });
        // dropload
        var dropload = $('.inner')
            .dropload({
                domUp: {
                    domClass: 'dropload-up',
                    domRefresh: '<div class="dropload-refresh">↓下拉刷新</div>',
                    domUpdate: '<div class="dropload-update">↑释放更新</div>',
                    domLoad: '<div class="dropload-load"><span class="loading"></span>加载中...</div>'
                },
                domDown: {
                    domClass: 'dropload-down',
                    domRefresh: '<div class="dropload-refresh">↑上拉加载更多</div>',
                    domUpdate: '<div class="dropload-update">↓释放加载</div>',
                    domLoad: '<div class="dropload-load"><span class="loading"></span>加载中...</div>'
                },
                loadUpFn: function (me) {
                    var table = document.body.querySelector('.jobTable');
                    table.innerHTML = '';
                    var cells = document.body.querySelectorAll('.jobCell');
                    for (var i = cells.length, len = i + 2; i < len; i++) {
                        var li = document.createElement('li');
                        li.className = 'mui-table-view-cell mui-media jobCell';
                        li.innerHTML = '<div  onclick="itemOnClick(' +
                            i +
                            ')"><a>' +
                            '<div class="mui-media-object mui-pull-left tableIcon"><span>测试</span></div>' +
                            '<div class="mui-media-body">木屋' +
                            '<p class=\'mui-ellipsis\'>想要这样一间小木屋，夏天挫冰吃瓜，冬天围炉取暖.</p>' +
                            '<p class=\'mui-ellipsis\' style="font-style: oblique;color: red;">80/天 <span style="font-style: initial;float: right;">刚刚</span></p>' +
                            '</div></a></div>';
                        table.appendChild(li);
                    }
                    me.resetload();
                },
                loadDownFn: function (me) {
                    var table = document.body.querySelector('.jobTable');
                    var cells = document.body.querySelectorAll('.jobCell');
                    for (var i = cells.length, len = i + 20; i < len; i++) {
                        var li = document.createElement('li');
                        li.className = 'mui-table-view-cell mui-media jobCell';
                        li.innerHTML = '<div  onclick="itemOnClick(' +
                            i +
                            ')"><a>' +
                            '<div class="mui-media-object mui-pull-left tableIcon"><span>测试</span></div>' +
                            '<div class="mui-media-body">木屋' +
                            '<p class=\'mui-ellipsis\'>想要这样一间小木屋，夏天挫冰吃瓜，冬天围炉取暖.</p>' +
                            '<p class=\'mui-ellipsis\' style="font-style: oblique;color: red;">80/天 <span style="font-style: initial;float: right;">刚刚</span></p>' +
                            '</div></a></div>';
                        table.appendChild(li);
                    }
                    me.resetload();
                }
            });
        //-----------------------------------------------------------------------------------
        //-----------------------------------------------------------------------------------
        mui.getJSON('data/home.json', null, function (data) {
            var jsonobj = eval(data);
            //				console.log(jsonobj.distanceJson[0].name);
            console.log(jsonobj.jobListJson.length);
            var table = document.body.querySelector('.jobTable');
            var cells = document.body.querySelectorAll('.jobCell');
            for (var i = 0; i < jsonobj.jobListJson.length; i++) {
                var kTitle = jsonobj.jobListJson[i].title;
                var kDes = jsonobj.jobListJson[i].des;
                var kMoney = jsonobj.jobListJson[i].money;
                var kTime = jsonobj.jobListJson[i].time;
                var kIndex = jsonobj.jobListJson[i].index;
                //-----------------------------------------------------------------
                var li = document.createElement('li');
                li.className = 'mui-table-view-cell mui-media jobCell';
                li.innerHTML = '<div  onclick="alert(' + kIndex + ')"><a>' + //
                    '<div class="mui-media-object mui-pull-left tableIcon"><span>测试</span></div>' + //
                    '<div class="mui-media-body">' + kTitle + //
                    '<p class=\'mui-ellipsis\'>' + kDes + '</p>' + //
                    '<p class=\'mui-ellipsis\' style="font-style: oblique;color: red;">' + kMoney + //
                    '<span style="font-style: initial;float: right;">' + kTime + '</span></p>' + //
                    '</div></a></div>';
                table.appendChild(li);
            }
        });
    </script>
    <script>
        //				var menuWrapper = document.getElementById("menu-wrapper");
        //				var menu = document.getElementById("menu");
        //				var menuWrapperClassList = menuWrapper.classList;
        //				var backdrop = document.getElementById("menu-backdrop");
        //				var info = document.getElementById("info");
        //				backdrop.addEventListener('tap', toggleMenu);
        //				document.getElementById("cityButton").addEventListener('tap', toggleMenu);
        //				//				document.getElementById("icon-menu").addEventListener('tap', toggleMenu)
        //				//下沉菜单中的点击事件
        //				mui('#menu').on('tap', 'a', function() {
        //					toggleMenu();
        //					//					info.innerHTML = '你已选择：' + this.innerHTML;
        //					//					var name = jsonobj.categoryJson[index].name;
        //					var appElement = document.querySelector('[ng-controller=homeController]');
        //					var $scope = angular.element(appElement).scope();
        //					$scope.addressTxt = {
        //						title: this.innerHTML
        //					};
        //					$scope.$apply();
        //				});
        //				var busying = false;
        //
        //				function toggleMenu() {
        //					if (busying) {
        //						return;
        //					}
        //					busying = true;
        //					if (menuWrapperClassList.contains('mui-active')) {
        //						document.body.classList.remove('menu-open');
        //						menuWrapper.className = 'menu-wrapper fade-out-up animated';
        //						menu.className = 'menu bounce-out-up animated';
        //						setTimeout(function() {
        //							backdrop.style.opacity = 0;
        //							menuWrapper.classList.add('hidden');
        //						}, 500);
        //					} else {
        //						document.body.classList.add('menu-open');
        //						menuWrapper.className = 'menu-wrapper fade-in-down animated mui-active';
        //						menu.className = 'menu bounce-in-down animated';
        //						backdrop.style.opacity = 1;
        //					}
        //					setTimeout(function() {
        //						busying = false;
        //					}, 500);
        //				}
    </script>
}